- if @commits.present?
  .ui-box
    .title
      %i.icon-list
      Commits (#{@commits.count})
    .commits
      - if @commits.count > 8
        %ul.first-commits.well-list
          - @commits.first(8).each do |commit|
            = render "projects/commits/commit", commit: commit, project: @merge_request.source_project
          %li.bottom
            8 of #{@commits.count} commits displayed.
            %strong
              %a.show-all-commits Click here to show all
        %ul.all-commits.hide.well-list
          - @commits.each do |commit|
            = render "projects/commits/commit", commit: commit, project: @merge_request.source_project

      - else
        %ul.well-list
          - @commits.each do |commit|
            = render "projects/commits/commit", commit: commit, project: @merge_request.source_project
    %div.clgray
      If you do not find the latest commit in the list above, you can reload the diff by clicking this link:
      = link_to 'Force reload diff', force_diff_reload_project_merge_request_path(@project, @merge_request), action: "force_diff_reload", class: "force_diff_reload_link", title: "Force reload diff"

- else
  %h4.nothing_here_message
    Nothing to merge from
    %span.label-branch #{@merge_request.source_branch}
    to
    %span.label-branch #{@merge_request.target_branch}
  %br
